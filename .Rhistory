data("iris")
data(iris)
df <- data(iris)
show(df)
view(df)
View(df)
data(iris)
df <- iris
View(iris)
x <- c(3,4,6,8,9)
y <- c(5,7)
x%in%y
x %in% y
x <- c(3,4,6,8,9)
y <- c(5,7,8)
x %in% y
x == y
x[1] == y
x[3] == y
x[4] == y
x[1]
install.packages("reticulate")
install.packages(c("boot", "magrittr", "Matrix", "pillar", "vroom"))
install.packages("installr")
library(installr)
updateR()
setwd("~/GU_work/5400_work/PJ")
library(readr)
last_statements <- read_csv("last_statements.csv")
View(last_statements)
setwd("~/GU_work/5100_work/pj/DSAN-5100-Final-Project")
library(readxl)
Years_of_School_Completed_by_People_25_Years_and_Over_by_Age_and_Sex_Selected_Years_1940_to_2024 <- read_excel("data/Years-of-School-Completed-by-People-25-Years-and-Over-by-Age-and-Sex-Selected-Years-1940-to-2024.xlsx")
View(Years_of_School_Completed_by_People_25_Years_and_Over_by_Age_and_Sex_Selected_Years_1940_to_2024)
df <- read.csv("Years-of-School-Completed-by-People-25-Years-and-Over-by-Age-and-Sex-Selected-Years-1940-to-2024.csv
")
df <- read.csv("data/Years-of-School-Completed-by-People-25-Years-and-Over-by-Age-and-Sex-Selected-Years-1940-to-2024.csv")
pwd
setwd("~/GU_work/5100_work/pj/DSAN-5100-Final-Project/data")
df <- read.csv("Years-of-School-Completed-by-People-25-Years-and-Over-by-Age-and-Sex-Selected-Years-1940-to-2024.csv")
df <- read.csv("edu_data.csv")
setwd("~/GU_work/5100_work/pj/DSAN-5100-Final-Project/data")
setwd("~/GU_work/5100_work/pj/DSAN-5100-Final-Project")
df <- read_xlsx("data/edu_data.")
getwd()
df <- read_xlsx("data/edu_data.")
df <- read_xlsx("/data/edu_data.")
df <- read_xlsx("/data/edu_data.xlsx")
edu_data <- read_excel("data/edu_data.xlsx")
View(edu_data)
clear
cls
View(edu_data)
head(edu_data)
View(edu_data)
edu_data <- edu_data[-c(1,2),]
View(edu_data)
library(readxl)
edu_data <- read_excel("data/edu_data.xlsx")
View(edu_data)
library(readxl)
library(dplyr)
edu_data <- read_excel("data/edu_data.xlsx")
edu_data <- edu_data[-c(1,2),]
View(edu_data)
library(readxl)
library(dplyr)
edu_data <- read_excel("data/edu_data.xlsx")
View(edu_data)
edu_data[3,3] <- "Elementary_0_4"
edu_data[3,4] <- "Elementary_5_8"
edu_data[3,5] <- "High_1_3"
edu_data[3,6] <- "High_4"
edu_data[3,7] <- "College_1_3"
edu_data[3,8] <- "College_4"
View(edu_data)
library(readxl)
library(dplyr)
edu_data <- read_excel("data/edu_data.xlsx")
# Rename colnames
edu_data[3,3] <- "Elementary_0_4"
edu_data[3,4] <- "Elementary_5_8"
edu_data[3,5] <- "High_1_3"
edu_data[3,6] <- "High_4"
edu_data[3,7] <- "College_1_3"
edu_data[3,8] <- "College_4"
edu_data[3,8] <- "Median"
edu_data <- edu_data[-c(1,2),]
View(edu_data)
edu_data <- read_excel("data/edu_data.xlsx")
View(edu_data)
library(readxl)
library(dplyr)
edu_data <- read_excel("data/edu_data.xlsx")
# Rename colnames
edu_data[3,3] <- "Elementary_0_4"
edu_data[3,4] <- "Elementary_5_8"
edu_data[3,5] <- "High_1_3"
edu_data[3,6] <- "High_4"
edu_data[3,7] <- "College_1_3"
edu_data[3,8] <- "College_4"
edu_data[3,8] <- "Median"
edu_data <- edu_data[-c(1,2,4,5),]
View(edu_data)
library(readxl)
library(dplyr)
edu_data <- read_excel("data/edu_data.xlsx")
# Rename colnames
edu_data[3,3] <- "Elementary_0_4"
edu_data[3,4] <- "Elementary_5_8"
edu_data[3,5] <- "High_1_3"
edu_data[3,6] <- "High_4"
edu_data[3,7] <- "College_1_3"
edu_data[3,8] <- "College_4"
edu_data[3,9] <- "Median"
edu_data <- edu_data[-c(1,2,4,5),]
View(edu_data)
edu_data01 <- read_excel("data/edu_data.xlsx")
View(edu_data01)
View(edu_data)
library(readxl)
library(dplyr)
edu_data <- read_excel("data/edu_data.xlsx")
# Rename colnames
edu_data[3,3] <- "Elementary_0_4"
edu_data[3,4] <- "Elementary_5_8"
edu_data[3,5] <- "High_1_3"
edu_data[3,6] <- "High_4"
edu_data[3,7] <- "College_1_3"
edu_data[3,8] <- "College_4"
edu_data[3,9] <- "Median"
edu_data <- edu_data[-c(1,2,4,5),]
edu_data[1,2:9] <- edu_data[2,2:9]
View(edu_data)
library(readxl)
library(dplyr)
edu_data <- read_excel("data/edu_data.xlsx")
# Rename colnames
edu_data[3,3] <- "Elementary_0_4"
edu_data[3,4] <- "Elementary_5_8"
edu_data[3,5] <- "High_1_3"
edu_data[3,6] <- "High_4"
edu_data[3,7] <- "College_1_3"
edu_data[3,8] <- "College_4"
edu_data[3,9] <- "Median"
edu_data <- edu_data[-c(1,2,4,5),]
edu_data[2,2:9] <- edu_data[1,2:9]
View(edu_data)
library(readxl)
library(dplyr)
edu_data <- read_excel("data/edu_data.xlsx")
# Rename colnames
edu_data[3,3] <- "Elementary_0_4"
edu_data[3,4] <- "Elementary_5_8"
edu_data[3,5] <- "High_1_3"
edu_data[3,6] <- "High_4"
edu_data[3,7] <- "College_1_3"
edu_data[3,8] <- "College_4"
edu_data[3,9] <- "Median"
View(edu_data)
library(readxl)
library(dplyr)
edu_data <- read_excel("data/edu_data.xlsx")
# Rename colnames
edu_data[3,3] <- "Elementary_0_4"
edu_data[3,4] <- "Elementary_5_8"
edu_data[3,5] <- "High_1_3"
edu_data[3,6] <- "High_4"
edu_data[3,7] <- "College_1_3"
edu_data[3,8] <- "College_4"
edu_data[3,9] <- "Median"
edu_data <- edu_data[-c(1,2,4,5),]
edu_data[2,2:9] <- edu_data[1,2:9]
edu_data <- edu_data[-c(1)]
View(edu_data)
library(readxl)
library(dplyr)
edu_data <- read_excel("data/edu_data.xlsx")
# Rename colnames
edu_data[3,3] <- "Elementary_0_4"
edu_data[3,4] <- "Elementary_5_8"
edu_data[3,5] <- "High_1_3"
edu_data[3,6] <- "High_4"
edu_data[3,7] <- "College_1_3"
edu_data[3,8] <- "College_4"
edu_data[3,9] <- "Median"
edu_data <- edu_data[-c(1,2,4,5),]
edu_data[2,2:9] <- edu_data[1,2:9]
edu_data <- edu_data[-c(1),]
View(edu_data)
View(edu_data)
edu_data <- read_excel("data/edu_data.xlsx")
# Rename colnames
edu_data[3,3] <- "Elementary_0_4"
edu_data[3,4] <- "Elementary_5_8"
edu_data[3,5] <- "High_1_3"
edu_data[3,6] <- "High_4"
edu_data[3,7] <- "College_1_3"
edu_data[3,8] <- "College_4"
edu_data[3,9] <- "Median"
View(edu_data)
library(readxl)
library(dplyr)
edu_data <- read_excel("data/edu_data.xlsx")
# Rename colnames
edu_data[3,1] <- "25 Years and Over, Both Sexes"
edu_data[3,3] <- "Elementary_0_4"
edu_data[3,4] <- "Elementary_5_8"
edu_data[3,5] <- "High_1_3"
edu_data[3,6] <- "High_4"
edu_data[3,7] <- "College_1_3"
edu_data[3,8] <- "College_4"
edu_data[3,9] <- "Median"
edu_data <- edu_data[-c(1,2,4,5,6), ]
View(edu_data)
library(readxl)
library(dplyr)
library(janitor)
install.packages("janitor")
library(readxl)
library(dplyr)
library(janitor)
edu_data <- read_excel("data/edu_data.xlsx")
# Rename colnames
edu_data[3,1] <- "25 Years and Over, Both Sexes"
edu_data[3,3] <- "Elementary_0_4"
edu_data[3,4] <- "Elementary_5_8"
edu_data[3,5] <- "High_1_3"
edu_data[3,6] <- "High_4"
edu_data[3,7] <- "College_1_3"
edu_data[3,8] <- "College_4"
edu_data[3,9] <- "Median"
edu_data <- edu_data[-c(1,2,4,5,6), ]
edu_data[ 71, 2:9] <- edu_data[ 1, 2:9] #
edu_data[ 141, 2:9] <- edu_data[ 1, 2:9]
edu_data[ 211, 2:9] <- edu_data[ 1, 2:9]
edu_data[ 281, 2:9] <- edu_data[ 1, 2:9]
edu_data[ 351, 2:9] <- edu_data[ 1, 2:9]
edu_data[ 421, 2:9] <- edu_data[ 1, 2:9]
edu_data[ 491, 2:9] <- edu_data[ 1, 2:9]
edu_data[ 561, 2:9] <- edu_data[ 1, 2:9]
edu_data[ 631, 2:9] <- edu_data[ 1, 2:9]
edu_data[ 701, 2:9] <- edu_data[ 1, 2:9]
edu_data[ 771, 2:9] <- edu_data[ 1, 2:9]
df_01 <- edu_data[ 1:70 , ]
df_01 <- row_to_names(df_01, row_number = 1)
df_02 <- edu_data[ 71:140 , ]
df_02 <- row_to_names(df_02, row_number = 1)
df_03 <- edu_data[ 141:210 , ]
df_03 <- row_to_names(df_03, row_number = 1)
df_04 <- edu_data[ 211:280 , ]
df_04 <- row_to_names(df_04, row_number = 1)
df_05 <- edu_data[ 281:350 , ]
df_05 <- row_to_names(df_05, row_number = 1)
df_06 <- edu_data[ 351:420 , ]
df_06 <- row_to_names(df_06, row_number = 1)
df_07 <- edu_data[ 421:490 , ]
df_07 <- row_to_names(df_07, row_number = 1)
df_08 <- edu_data[ 491:560 , ]
df_08 <- row_to_names(df_08, row_number = 1)
df_09 <- edu_data[ 561:630 , ]
df_09 <- row_to_names(df_09, row_number = 1)
df_10 <- edu_data[ 631:700 , ]
df_10 <- row_to_names(df_10, row_number = 1)
df_11 <- edu_data[ 701:770 , ]
df_11 <- row_to_names(df_11, row_number = 1)
df_12 <- edu_data[ 771:840 , ]
df_12 <- row_to_names(df_12, row_number = 1)
View(df_02)
View(df_03)
View(df_04)
View(df_05)
View(df_07)
View(df_08)
View(df_12)
View(df_12)
View(df_11)
View(df_12)
colnames(df_01$`25 Years and Over, Both Sexes`)
colnames(df_01[,1])
View(df_01)
View(df_02)
View(df_03)
View(df_04)
View(df_09)
library(readxl)
library(dplyr)
library(janitor)
library(readr)
# Load data
edu_data <- read_excel("data/edu_data.xlsx")
# Rename specific cells in row 3 (which becomes the header)
# Note: Using hardcoded indices as per original script, though finding by content might be safer.
edu_data[3, 1] <- "25 Years and Over, Both Sexes"
edu_data[3, 3] <- "Elementary_0_4"
edu_data[3, 4] <- "Elementary_5_8"
edu_data[3, 5] <- "High_1_3"
edu_data[3, 6] <- "High_4"
edu_data[3, 7] <- "College_1_3"
edu_data[3, 8] <- "College_4"
edu_data[3, 9] <- "Median"
# Remove unnecessary rows (1, 2, 4, 5, 6)
# After this, the modified row 3 becomes the new row 1
edu_data <- edu_data[-c(1, 2, 4, 5, 6), ]
# Define chunk parameters
chunk_size <- 70
total_rows <- nrow(edu_data)
num_chunks <- ceiling(total_rows / chunk_size)
# Loop through chunks
for (i in 0:(num_chunks - 1)) {
start_idx <- (i * chunk_size) + 1
end_idx <- min((i + 1) * chunk_size, total_rows)
# For chunks after the first one, copy the header info (cols 2:9) from the first row
if (i > 0) {
edu_data[start_idx, 2:9] <- edu_data[1, 2:9]
}
# Slice the dataframe
df_chunk <- edu_data[start_idx:end_idx, ]
# Set the first row as column names
df_chunk <- row_to_names(df_chunk, row_number = 1)
# Generate filename from the first column name
# Correcting 'colname' to 'colnames'
file_name <- colnames(df_chunk)[1]
# Define output path
output_path <- file.path("data/processed-data", file_name)
# Write to CSV
write_csv(df_chunk, output_path)
}
library(readxl)
library(dplyr)
library(janitor)
library(readr)
# Load data
edu_data <- read_excel("data/edu_data.xlsx")
# Rename specific cells in row 3 (which becomes the header)
# Note: Using hardcoded indices as per original script, though finding by content might be safer.
edu_data[3, 1] <- "25 Years and Over, Both Sexes"
edu_data[3, 3] <- "Elementary_0_4"
edu_data[3, 4] <- "Elementary_5_8"
edu_data[3, 5] <- "High_1_3"
edu_data[3, 6] <- "High_4"
edu_data[3, 7] <- "College_1_3"
edu_data[3, 8] <- "College_4"
edu_data[3, 9] <- "Median"
# Remove unnecessary rows (1, 2, 4, 5, 6)
# After this, the modified row 3 becomes the new row 1
edu_data <- edu_data[-c(1, 2, 4, 5, 6), ]
# Define chunk parameters
chunk_size <- 70
total_rows <- nrow(edu_data)
num_chunks <- ceiling(total_rows / chunk_size)
# Loop through chunks
for (i in 0:(num_chunks - 1)) {
start_idx <- (i * chunk_size) + 1
end_idx <- min((i + 1) * chunk_size, total_rows)
# For chunks after the first one, copy the header info (cols 2:9) from the first row
if (i > 0) {
edu_data[start_idx, 2:9] <- edu_data[1, 2:9]
}
# Slice the dataframe
df_chunk <- edu_data[start_idx:end_idx, ]
# Set the first row as column names
df_chunk <- row_to_names(df_chunk, row_number = 1)
# Generate filename from the first column name
# Correcting 'colname' to 'colnames'
file_name <- colnames(df_chunk)[1]
# Define output path
output_path <- file.path("data/processed-data", paste0(file_name, ".csv"))
# Write to CSV
write_csv(df_chunk, output_path)
}
library(readxl)
library(dplyr)
library(janitor)
library(readr)
edu_data <- read_excel("data/edu_data.xlsx")
edu_data[3, 1] <- "25 Years and Over, Both Sexes"
edu_data[3, 3] <- "Elementary_0_4"
edu_data[3, 4] <- "Elementary_5_8"
edu_data[3, 5] <- "High_1_3"
edu_data[3, 6] <- "High_4"
edu_data[3, 7] <- "College_1_3"
edu_data[3, 8] <- "College_4"
edu_data[3, 9] <- "Median"
# Remove unnecessary rows
edu_data <- edu_data[-c(1, 2, 4, 5, 6), ]
# Define chunk parameters
chunk_size <- 70
total_rows <- nrow(edu_data)
num_chunks <- ceiling(total_rows / chunk_size)
# cut and reform data
for (i in 0:(num_chunks - 1)) {
start_idx <- (i * chunk_size) + 1
end_idx <- min((i + 1) * chunk_size, total_rows)
if (i > 0) {
edu_data[start_idx, 2:9] <- edu_data[1, 2:9]
}
df_chunk <- edu_data[start_idx:end_idx, ]
df_chunk <- row_to_names(df_chunk, row_number = 1)
file_name <- colnames(df_chunk)[1]
# clean filenames
file_name <- gsub("[^[:alnum:]_ ]", "", file_name)
file_name <- gsub(" ", "_", file_name)
# save
output_path <- file.path("data/processed-data", paste0(file_name, ".csv"))
write_csv(df_chunk, output_path)
}
